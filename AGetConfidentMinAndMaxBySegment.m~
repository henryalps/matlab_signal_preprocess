function [minVal,maxVal,hasCutoff] = AGetConfidentMinAndMaxBySegment(sig)
%% 通过分段+中位数的方式获取长时信号的合理最大与最小值
% OUTPUT
% 信号的‘合理’最大与最小值
% hasCutoff 1*1 bool 信号是否有严重截止失真
    SEGNUM = 10;
    THEROLD = 50; % 认为出现了截止失真的阈值
    sig = sig(1:sig - mod())
    sigSeg = resharp(sig, )
    
    minVals = min(sigSeg,[],2);
    maxVals = max(sigSeg,[],2);
    
    %%判断截止失真
    tblmin = tabulate(minVals);
    tblmax = tabulate(maxVals);
    hasCutoff = max(tblmin(:,3)) >= THEROLD || min(tblmax(:,3)) >= THEROLD;  
    %
    
    minVal = median(minVals);
    maxVal = median(maxVals);
end